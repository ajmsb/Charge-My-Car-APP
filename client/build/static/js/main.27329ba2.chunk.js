(this.webpackJsonpchargemycar=this.webpackJsonpchargemycar||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"a":[{"type":"Feature","properties":{"STAT_ID":1219,"IMG":"https://photos.plugshare.com/photos/605839.jpg","PLUG":[["1","/ccs.svg"],["2","/type2.png"],["3","/chademo.png"]],"FACILITYID":28001,"CAPACITY":"50KW","NAME":"Ideapark Oulu","ADDRESS":"Ritaharjuntie 49,90540 Oulu, Finland","payement":"required","PRICE":"Payment Required 0.19\u20ac/min","FACILITY":"Grocery, Shopping","HOURS":"24h/7","DESCRIPTIO":["CCS/SAE","CHAdeMO"]},"geometry":{"type":"Point","coordinates":[25.445345,65.076634]}},{"type":"Feature","properties":{"STAT_ID":1220,"IMG":"https://photos.plugshare.com/photos/545836.jpg","PLUG":["/ccs.svg","/chademo.png","/type2.png"],"FACILITYID":28001,"CAPACITY":"60KW","NAME":"VTT konttori Linnanmaalla","ADDRESS":"Kaitov\xe4yl\xe4 1,Oulu","payement":"free","PRICE":"Free","FACILITY":"Grocery, Shopping","HOURS":"24h/7","DESCRIPTIO":["Type 2","Wall (Euro)"]},"geometry":{"type":"Point","coordinates":[25.460917,65.058108]}},{"type":"Feature","properties":{"STAT_ID":1221,"IMG":"https://photos.plugshare.com/photos/582690.jpg","PLUG":["/ccs.svg","/chademo.png","/type2.png"],"FACILITYID":28001,"CAPACITY":"70KW","NAME":"K-Supermarket Toppila","ADDRESS":"Satamatie 26,90520 Oulu, Finland","payement":"required","PRICE":"Payment RequiredQuick charging 0, 20\u20ac/min, Type 2 0, 02\u20ac/min","FACILITY":"Grocery, Shopping","HOURS":"24h/7","DESCRIPTIO":["Type 2","CCS/SAE","CHAdeMO"]},"geometry":{"type":"Point","coordinates":[25.440589,65.036055]}}]}')},46:function(e,t,a){e.exports=a(73)},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),o=a.n(l),c=a(13),s=a.n(c),u=a(18),i=a(7),m=a(15),p=a(5),E=a(22),d=a(40);var g=function(){var e=Object(p.f)(),t=Object(n.useState)({container:"map",latitude:65.058108,longitude:25.460917,height:"100vh",width:"100%",zoom:12}),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(null),c=Object(i.a)(o,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&u(null)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),n.createElement("div",null,n.createElement(E.c,Object.assign({},r,{mapboxApiAccessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).MAP_BOX_TOKEN="pk.eyJ1Ijoia29taHVzdGxhIiwiYSI6ImNrZzN3aGdlcjBlczcycG81NnlsZjdnYmcifQ.pPluRgXMNX6i5LFd0K3oNA",onViewportChange:function(e){l(e)}}),d.a.map((function(e){return n.createElement(E.a,{key:e.properties.STATION_ID,latitude:e.geometry.coordinates[1],longitude:e.geometry.coordinates[0]},n.createElement("div",{className:"marker-btn",onClick:function(t){t.preventDefault(),u(e)}},n.createElement("img",{src:"/gas-station.svg",alt:"Station Icon"})))})),s?n.createElement(E.b,{latitude:s.geometry.coordinates[1],longitude:s.geometry.coordinates[0],onClose:function(){u(null)}},n.createElement("div",null,n.createElement("h3",null,s.properties.NAME),n.createElement("p",null,s.properties.ADDRESS,s.properties.DESCRIPTIO.map((function(e){return n.createElement("ul",null,e)}))))):null,s?n.createElement("div",{className:"sidebar"},n.createElement("div",{className:"heading"},n.createElement("button",{onClick:function(){return e.push("/login")}},"check In"),n.createElement("img",{src:s.properties.IMG,alt:"img"})),n.createElement("div",{className:"title"},n.createElement("h3",null,s.properties.NAME),n.createElement("div",{className:"info"},n.createElement("p",null,s.properties.ADDRESS),s.properties.DESCRIPTIO.map((function(e){return n.createElement("ul",null,e)}))," ",n.createElement("p",null,s.properties.CAPACITY))),n.createElement("div",{className:"listings"},n.createElement("h4",null,"Cost per minutes"),n.createElement("p",{className:"list"},s.properties.PRICE),n.createElement("h4",null,"Amenities"),n.createElement("p",{className:"list"},s.properties.FACILITY),n.createElement("h4",null,"Hours"),n.createElement("p",{className:"list"},s.properties.HOURS)),n.createElement("div",{className:"plugs"},n.createElement("h4",null,"Plugs"),s.properties.DESCRIPTIO.map((function(e){return n.createElement("ul",null,e)})))):null))},h=Object(n.createContext)(null),v=a(16),f=a.n(v);var b=function(e){return r.a.createElement("div",{className:"error-notice"},r.a.createElement("span",null,e.message),r.a.createElement("button",{onClick:e.clearError},"X"))};var O=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(),c=Object(i.a)(o,2),m=c[0],E=c[1],d=Object(n.useState)(),v=Object(i.a)(d,2),O=v[0],I=v[1],S=Object(n.useContext)(h).setUserData,C=Object(p.f)(),y=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:m},e.next=5,f.a.post("http://localhost:5000/users/login",n);case 5:r=e.sent,S({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),C.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&I(e.t0.response.data.msg);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{className:"form-decoration"},r.a.createElement("div",{className:"background-decoration"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{className:"form",onSubmit:y},r.a.createElement("label",{htmlFor:"login-email"},"Email"),r.a.createElement("input",{id:"login-email",type:"email",onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"login-password"},"Password"),r.a.createElement("input",{id:"login-password",type:"password",onChange:function(e){return E(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Log in"}),O&&r.a.createElement(b,{message:O,clearError:function(){return I(void 0)}})))))};var I=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(),c=Object(i.a)(o,2),m=c[0],E=c[1],d=Object(n.useState)(),v=Object(i.a)(d,2),O=v[0],I=v[1],S=Object(n.useState)(),C=Object(i.a)(S,2),y=C[0],j=C[1],k=Object(n.useState)(),N=Object(i.a)(k,2),A=N[0],T=N[1],D=Object(n.useContext)(h).setUserData,w=Object(p.f)(),P=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:m,passwordCheck:O,displayName:y},e.next=5,f.a.post("http://localhost:5000/users/register",n);case 5:return e.next=7,f.a.post("http://localhost:5000/users/login",{email:a,password:m});case 7:r=e.sent,D({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),w.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.response.data.msg&&T(e.t0.response.data.msg);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("div",{className:"form-decoration"},r.a.createElement("div",{className:"background-decoration"},r.a.createElement("h2",null,"Register"),r.a.createElement("form",{className:"form",onSubmit:P},r.a.createElement("label",{htmlFor:"register-email"},"Email"),r.a.createElement("input",{id:"register-email",type:"email",onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"register-password"},"Password"),r.a.createElement("input",{id:"register-password",type:"password",onChange:function(e){return E(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Verify password",onChange:function(e){return I(e.target.value)}}),r.a.createElement("label",{htmlFor:"register-display-name"},"Display name"),r.a.createElement("input",{id:"register-display-name",type:"text",onChange:function(e){return j(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Register"}),A&&r.a.createElement(b,{message:A,clearError:function(){return T(void 0)}})))))},S=a(42),C=a(43),y=a(45),j=a(44);var k=function(){var e=Object(n.useContext)(h),t=e.userData,a=e.setUserData,l=Object(p.f)();return r.a.createElement("nav",{className:"nav-menu"},t.user?r.a.createElement("button",{onClick:function(){a({token:void 0,user:void 0}),localStorage.setItem("auth-token","")},className:"b1"},"log out"):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return l.push("/login")},className:"b1"},"login"),r.a.createElement("button",{onClick:function(){return l.push("/register")},className:"b1"},"sign up")))},N=function(e){Object(y.a)(a,e);var t=Object(j.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"NavbarItems"},r.a.createElement("div",null,r.a.createElement(m.b,{to:"/",className:"navbar-logo"},"ChargemyCar")),r.a.createElement(k,null))}}]),a}(n.Component);a(72);var A=function(){var e=Object(n.useState)({token:void 0,user:void 0}),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,f.a.post("http://localhost:5000/users/tokenIsValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,f.a.get("http://localhost:5000/users/",{headers:{"x-auth-token":t}});case 8:a=e.sent,l({token:t,user:a.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(h.Provider,{value:{userData:a,setUserData:l}},r.a.createElement(N,null),r.a.createElement("div",null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:g}),r.a.createElement(p.a,{path:"/login",component:O}),r.a.createElement(p.a,{path:"/register",component:I}))))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.27329ba2.chunk.js.map